{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Powred by Necform</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <link href="{% static 'dashboard/css/styles.css' %}" rel="stylesheet" />
    

    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <style>
        .theme-option {
            width: 100px;
            height: 140px;
            cursor: pointer;
            border: 2px solid transparent;
        }
        input[type="radio"]:checked + .theme-option {
            border-color: #007bff; /* bleu Bootstrap */
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        /* ====== Section Abonnements ====== */
.abonnement-section {
  padding: 60px 0;
  background: #f9f9f9;
  text-align: center;
  font-family: 'Poppins', sans-serif;
}

.abonnement-section .section-title {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 40px;
  color: #333;
}

.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 30px;
  justify-content: center;
}

.card {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  overflow: hidden;
  transition: all 0.3s ease;
}

.card:hover {
  transform: translateY(-10px);
  box-shadow: 0 12px 24px rgba(0,0,0,0.12);
}

.card-header {
  background: #007bff;
  color: #fff;
  padding: 15px;
  font-size: 1.4rem;
  font-weight: 600;
}

.card.popular .card-header {
  background: #ff6b6b;
}

.card-body {
  padding: 25px;
}

.price {
  font-size: 1.8rem;
  font-weight: 700;
  color: #222;
  margin: 15px 0;
}

.card-body ul {
  list-style: none;
  padding: 0;
  margin: 20px 0;
}

.card-body ul li {
  margin-bottom: 10px;
  font-size: 1rem;
  color: #555;
}

.card-body .btn {
  display: inline-block;
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 10px;
  background: #007bff;
  color: white;
  font-size: 1rem;
  font-weight: 600;
  transition: background 0.3s ease;
  cursor: pointer;
}

.card.popular .btn {
  background: #ff6b6b;
}

.card-body .btn:hover {
  background: #0056b3;
}

.card.popular .btn:hover {
  background: #e63946;
}

    </style>
</head>
<body class="sb-nav-fixed">
    <!-- TOP NAV -->
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
        <a class="navbar-brand ps-3" href="#">Necform</a>
        <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle"><i class="fas fa-bars"></i></button>
        <ul class="navbar-nav ms-auto me-3 me-lg-4">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown">
                    <i class="fas fa-user fa-fw"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="#">Settings</a></li>
                    <li><a class="dropdown-item" href="#">Activity Log</a></li>
                    <li><hr class="dropdown-divider" /></li>
                    <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <!-- SIDEBAR & CONTENT -->
    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                <div class="sb-sidenav-menu">
                    <div class="nav">
                        <div class="sb-sidenav-menu-heading">Core</div>
                        <a class="nav-link active" href="{% url 'dashboard' %}">
                            <div class="sb-nav-link-icon"><i class="fas fa-users"></i></div>
                            dashboard
                        </a>
                        <a class="nav-link active" href="{% url 'abonnement' %}">
                            <div class="sb-nav-link-icon"><i class="fas fa-users"></i></div>
                            Gérer mon abonnement
                        </a>
                        <a class="nav-link active" href="{% url 'candidats_list' %}">
                            <div class="sb-nav-link-icon"><i class="fas fa-users"></i></div>
                            candidats
                        </a>
                        
                        {% if user.nombre_cv_peut_telecharger > 0 %}
                            <a class="nav-link active" href="{% url 'home' %}">
                                <div class="sb-nav-link-icon"><i class="fas fa-users"></i></div>
                                Importer depuis CV
                            </a>
                        {% else %}
                            <button class="btn btn-secondary" disabled title="Abonnement expiré ou limite atteinte">
                                Générer CV
                            </button>
                            {% if user.nombre_cv_peut_telecharger <= 0 %}
                                <p class="text-danger">Vous avez atteint le nombre maximum de CV pour votre abonnement.</p>
                            {% elif user.abonnement_fin and user.abonnement_fin < today %}
                                <p class="text-danger">Votre abonnement est expiré. Veuillez le renouveler pour utiliser cette fonction.</p>
                            {% endif %}
                        {% endif %}



                        <a class="nav-link" href="{% url 'logout' %}">
                            <div class="sb-nav-link-icon"><i class="fas fa-sign-out-alt"></i></div>
                            Log out
                        </a>
                    </div>
                </div>
                <div class="sb-sidenav-footer">
                    <div class="small">Logged in as:</div>
                    Entreprise
                </div>
            </nav>
        </div>

        <div id="layoutSidenav_content">
            <main>
                {% block content %}
                <!-- Ici viendra le contenu spécifique des pages -->
                {% endblock %}
            </main>

            <!-- FOOTER -->
            <footer class="py-4 bg-light mt-auto">
                <div class="container-fluid px-4 d-flex justify-content-between small">
                    <div class="text-muted"><a href="https://necform-9urt.onrender.com/"> Developed by necform TECH 2025</a></div>
                    <div><a href="#">Privacy Policy</a> &middot; <a href="#">Terms</a></div>
                </div>
            </footer>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'dashboard/js/scripts.js' %}"></script>

    {% block scripts %}
    <!-- Scripts spécifiques à chaque page -->
    {% endblock %}
</body>
</html>
